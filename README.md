# BitTorrent

<p align="center">
  <a href="" rel="noopener">
 <img src="https://i.ibb.co/vtd7tPG/BIT-TORRENT-6-23-2025.png" alt="Project Logo"></a>
</p>

## üìñ –í–µ—Ä—Å–∏—è / Version
- [üá∑üá∫ RU](#RU)
- [üá∫üá∏ ENG](#ENG)

---

## üá∑üá∫ RU <a name="RU"></a>

## üìù –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

- [–û –ø—Ä–æ–µ–∫—Ç–µ](#–û-–ø—Ä–æ–µ–∫—Ç–µ)
- [–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã BitTorrent](#–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã-BitTorrent)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞](#–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∏-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ü—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞](#–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–æ—Ç–ª–∞–¥–∫–∞)
- [–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏](#–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
- [–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è](#–í–æ–∑–º–æ–∂–Ω—ã–µ-—É–ª—É—á—à–µ–Ω–∏—è)
- [–ó–∞–∫–ª—é—á–µ–Ω–∏–µ](#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ)
- [–ê–≤—Ç–æ—Ä—ã](#–ê–≤—Ç–æ—Ä—ã)

---

## üßê –û –ø—Ä–æ–µ–∫—Ç–µ <a name="–û-–ø—Ä–æ–µ–∫—Ç–µ"></a>

–ü—Ä–æ–µ–∫—Ç **BitTorrent** ‚Äî —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ BitTorrent, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Go. BitTorrent ‚Äî —ç—Ç–æ –ø–∏—Ä–∏–Ω–≥–æ–≤—ã–π (P2P) –ø—Ä–æ—Ç–æ–∫–æ–ª, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è —Ñ–∞–π–ª–∞–º–∏ —á–µ—Ä–µ–∑ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç. –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã —Ä–∞–∑–±–∏–≤–∞—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ –Ω–µ–±–æ–ª—å—à–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã `(pieces)`, –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏—Ö –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —Å–µ—Ç–∏ (–ø–∏—Ä–∞–º–∏), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –±—ã—Å—Ç—Ä–æ–π –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–π –¥–∞–∂–µ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω —Å –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π —Ü–µ–ª—å—é –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã —Ä–∞–±–æ—Ç—ã BitTorrent-–∫–ª–∏–µ–Ω—Ç–∞:

- –ß—Ç–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ñ–∞–π–ª–æ–≤.
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Ç—Ä–µ–∫–µ—Ä–∞–º–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–∏—Ä–æ–≤.
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ø–∏—Ä–∞–º–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –∫—É—Å–∫–∞–º–∏.
- –°–±–æ—Ä–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤.

–ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–µ–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º, –∏–∑—É—á–∞—é—â–∏–º —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã, –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –≤ Go, –∞ —Ç–∞–∫–∂–µ –≤—Å–µ–º, –∫—Ç–æ —Ö–æ—á–µ—Ç –≥–ª—É–±–∂–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Ç–æ–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç BitTorrent.

---

## üîÑ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã BitTorrent <a name="–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã-BitTorrent"></a>

BitTorrent ‚Äî —ç—Ç–æ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ—â–Ω—ã—Ö —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤. –û—Å–Ω–æ–≤–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —è–≤–ª—è—é—Ç—Å—è –Ω–µ–±–æ–ª—å—à–∏–µ –∫—É—Å–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞

1. **–ß—Ç–µ–Ω–∏–µ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ñ–∞–π–ª–∞**\
   –¢–æ—Ä—Ä–µ–Ω—Ç-—Ñ–∞–π–ª (`.torrent`) ‚Äî —ç—Ç–æ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–∞–π–ª —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç:

   - –ê–¥—Ä–µ—Å —Ç—Ä–µ–∫–µ—Ä–∞ (–∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç—Ä–µ–∫–µ—Ä–æ–≤).
   - –•—ç—à-—Å—É–º–º—ã –≤—Å–µ—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö (SHA-1), —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å.
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–∞—Ö (–∏–º–µ–Ω–∞, —Ä–∞–∑–º–µ—Ä—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞).
   - –†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ –∫—É—Å–∫–∞ (–æ–±—ã—á–Ω–æ –æ—Ç 256 –ö–ë –¥–æ 4 –ú–ë).\
   –ö–ª–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `bencode-go` –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ñ–∞–π–ª–∞ –∏ –≤—ã—á–∏—Å–ª—è–µ—Ç `InfoHash` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–∞–∑–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–≤—è–∑–∏ —Å —Ç—Ä–µ–∫–µ—Ä–æ–º –∏ –ø–∏—Ä–∞–º–∏.

2. **–ó–∞–ø—Ä–æ—Å –∫ —Ç—Ä–µ–∫–µ—Ä—É**\
   –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ —Ç—Ä–µ–∫–µ—Ä—É (–ø–æ HTTP –∏–ª–∏ UDP), –ø–µ—Ä–µ–¥–∞–≤–∞—è:

   - `InfoHash` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–∞–∑–¥–∞—á–∏.
   - `PeerID` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞.
   - –ü–æ—Ä—Ç –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 6881).\
   –¢—Ä–µ–∫–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç —Å–ø–∏—Å–∫–æ–º –ø–∏—Ä–æ–≤ ‚Äî –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–µ—Ç–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –Ω—É–∂–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –¥–∞–Ω–Ω—ã—Ö.\
   –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

   ```
   GET /announce?info_hash=xxx&peer_id=yyy&port=6881&uploaded=0&downloaded=0&left=1000000
   ```

    <p align="center">
      <a href="" rel="noopener">
     <img src="https://i.ibb.co/pBLQ6JNZ/Chat-GPT-Image-Jun-23-2025-05-12-55-PM.png" alt="–ó–∞–ø—Ä–æ—Å –∫ —Ç—Ä–µ–∫–µ—Ä—É"></a>
    </p>

3. **–†—É–∫–æ–ø–æ–∂–∞—Ç–∏–µ —Å –ø–∏—Ä–∞–º–∏**\
   –ö–ª–∏–µ–Ω—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ø–∏—Ä–∞–º–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ-—Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏–µ (handshake):

   - –î–ª–∏–Ω–∞ –∏–º–µ–Ω–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ (1 –±–∞–π—Ç, –æ–±—ã—á–Ω–æ 19).
   - –ò–º—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ (`BitTorrent protocol`).
   - –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∞–π—Ç—ã (8 –±–∞–π—Ç).
   - `InfoHash` (20 –±–∞–π—Ç).
   - `PeerID` (20 –±–∞–π—Ç).\
   –ü—Ä–∏–º–µ—Ä –≤ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:

   ```
   13:BitTorrent protocol00000000<20-byte-infohash><20-byte-peerid>
   ```

   –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏—è –ø–∏—Ä –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –≥–æ—Ç–æ–≤ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏.

4. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤**\
   –§–∞–π–ª—ã –≤ BitTorrent –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º ‚Äî –æ–Ω–∏ —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ **—Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã (pieces)** —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 256 –ö–ë). –ö–∞–∂–¥—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –¥–µ–ª–∏—Ç—Å—è –Ω–∞ **–±–ª–æ–∫–∏** (–æ–±—ã—á–Ω–æ 16 –ö–ë), –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —É –ø–∏—Ä–æ–≤.\
   –ü—Ä–æ—Ü–µ—Å—Å –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:

   - `Choke`/`Unchoke`: –ü–∏—Ä —Å–æ–æ–±—â–∞–µ—Ç, –≥–æ—Ç–æ–≤ –ª–∏ –æ–Ω –¥–µ–ª–∏—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏.
   - `Interested`: –ö–ª–∏–µ–Ω—Ç —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –µ–º—É –Ω—É–∂–Ω—ã.
   - `Request`: –ó–∞–ø—Ä–æ—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–ª–æ–∫–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞.
   - `Piece`: –ü–µ—Ä–µ–¥–∞—á–∞ –±–ª–æ–∫–∞ –æ—Ç –ø–∏—Ä–∞ –∫–ª–∏–µ–Ω—Ç—É.\
   –ö–ª–∏–µ–Ω—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –¥–∞–Ω–Ω—ã—Ö —É —Ä–∞–∑–Ω—ã—Ö –ø–∏—Ä–æ–≤, —á—Ç–æ —É—Å–∫–æ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É.

    <p align="center">
      <a href="" rel="noopener">
     <img src="https://i.postimg.cc/Gp0T01WH/p2p-Photoroom.png" alt="P2P"></a>
    </p>

   –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –±–ª–æ–∫–æ–≤ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –∫–ª–∏–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ—ë —Ö—ç—à-—Å—É–º–º—É (SHA-1), —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã.

5. **–°–±–æ—Ä–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**\
   –ö–æ–≥–¥–∞ –≤—Å–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –∫–ª–∏–µ–Ω—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö –≤ –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª (–∏–ª–∏ —Ñ–∞–π–ª—ã) –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞ –¥–∏—Å–∫. –ï—Å–ª–∏ —ç—Ç–æ –º–Ω–æ–≥–æ—Ñ–∞–π–ª–æ–≤–∞—è —Ä–∞–∑–¥–∞—á–∞, –∫–∞–∂–¥—ã–π –∫—É—Å–æ–∫ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —á–∞—Å—Ç–∏ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –∏ –∫–ª–∏–µ–Ω—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –º–µ—Å—Ç–∞–º.

### –ü–æ–¥—Ä–æ–±–Ω–æ –æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ö (pieces)

- **–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ BitTorrent?**\
  –≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö –≤ BitTorrent. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Ñ–∞–π–ª —Ä–∞–∑–º–µ—Ä–æ–º 10 –ú–ë —Ä–∞–∑–±–∏—Ç –Ω–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –ø–æ 256 –ö–ë, —Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è 40 —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤. –ö–∞–∂–¥—ã–π –∫—É—Å–æ–∫ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Ö—ç—à-—Å—É–º–º—É, —É–∫–∞–∑–∞–Ω–Ω—É—é –≤ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ñ–∞–π–ª–µ, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –µ—ë —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å.

- **–†–∞–∑–º–µ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤**\
  –û–±—ã—á–Ω–æ –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è –æ—Ç 256 –ö–ë –¥–æ 4 –ú–ë. –ú–µ–Ω—å—à–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —É—Å–∫–æ—Ä—è—é—Ç –Ω–∞—á–∞–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É, –Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –æ–±—ä–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö. –ë–æ–ª—å—à–∏–µ –∫—É—Å–∫–∏ –¥–∞–Ω–Ω—ã—Ö —É–º–µ–Ω—å—à–∞—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö—ç—à–µ–π, –Ω–æ —Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –∫–∞–∂–¥–æ–π.

- **–ë–ª–æ–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤**\
  –§—Ä–∞–≥–º–µ–Ω—Ç—ã –¥–µ–ª—è—Ç—Å—è –Ω–∞ –±–ª–æ–∫–∏ (–æ–±—ã—á–Ω–æ 16 –ö–ë), –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —É –ø–∏—Ä–æ–≤ –ø–æ –æ–¥–Ω–æ–º—É. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç —á–∞—Å—Ç—è–º–∏ –æ—Ç —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

- **–ü—Ä–∏–º–µ—Ä**\
  –ï—Å–ª–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç —Ä–∞–∑–º–µ—Ä–æ–º 256 –ö–ë —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 16 –±–ª–æ–∫–æ–≤ –ø–æ 16 –ö–ë, –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å –±–ª–æ–∫–∏ 0‚Äì7 —É –æ–¥–Ω–æ–≥–æ –ø–∏—Ä–∞, –∞ 8‚Äì15 —É –¥—Ä—É–≥–æ–≥–æ, —É—Å–∫–æ—Ä—è—è –ø—Ä–æ—Ü–µ—Å—Å.

    <p align="center">
      <a href="" rel="noopener">
     <img src="https://i.postimg.cc/x1LTzNZ1/Editor-Mermaid-Chart-2025-06-23-143832-Photoroom.png" alt="–°—Ç—Ä–æ–µ–Ω–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –¥–∞–Ω–Ω—ã—Ö"></a>
    </p>

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç**: TCP –¥–ª—è –ø–∏—Ä–æ–≤, UDP –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç—Ä–µ–∫–µ—Ä–æ–≤.
- **–•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: SHA-1 –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤.
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å**: –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–æ 5‚Äì10 —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫.

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ <a name="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞"></a>

–ü—Ä–æ–µ–∫—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –º–æ–¥—É–ª—å–Ω–æ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏. –í–æ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:

- `torrent.go`\
  –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö:

  - `TorrentFile`: –•—Ä–∞–Ω–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ñ–∞–π–ª–∞ (—Å–ø–∏—Å–æ–∫ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤, —Ö—ç—à–∏, —Ñ–∞–π–ª—ã).
  - `Peer`: –î–∞–Ω–Ω—ã–µ –æ –ø–∏—Ä–µ (IP, –ø–æ—Ä—Ç).
  - `Piece`: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏ (–∏–Ω–¥–µ–∫—Å, —Ö—ç—à, –¥–∞–Ω–Ω—ã–µ).

- `p2p.go`\
  –õ–æ–≥–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–∏—Ä–∞–º–∏:

  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏–π.
  - –ü–æ–±–ª–æ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–æ–±—â–µ–Ω–∏–π `Request` –∏ `Piece`.

- `tracker.go`\
  –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å —Ç—Ä–µ–∫–µ—Ä–∞–º–∏:

  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP- –∏ UDP-–∑–∞–ø—Ä–æ—Å–æ–≤.
  - –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–∏—Ä–∞—Ö.

- `utils.go`\
  –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è `PeerID`.
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ö—ç—à–µ–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤.
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏.

- `parse.go`\
  –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ñ–∞–π–ª–æ–≤:

  - –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ `bencode`.
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –∏ –∏—Ö —Ö—ç—à–µ–π.

- `main.go`\
  –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞:

  - –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (–ø—É—Ç—å –∫ `.torrent`, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è).
  - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª–µ–π (—á—Ç–µ–Ω–∏–µ, –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ).

---

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ <a name="–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∏-—É—Å—Ç–∞–Ω–æ–≤–∫–∞"></a>

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Go**: –í–µ—Ä—Å–∏—è 1.21+.
- **–û–°**: Linux, macOS, Windows.
- **–°–µ—Ç—å**: –î–æ—Å—Ç—É–ø –∫ —Ç—Ä–µ–∫–µ—Ä–∞–º –∏ –ø–∏—Ä–∞–º.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**:

   ```bash
   git clone git@github.com:lvbealr/BitTorrent.git
   cd BitTorrent
   ```
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ Go**:

   ```bash
   go version
   ```
3. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:

   ```bash
   go mod tidy
   ```
4. **–ö–æ–º–ø–∏–ª—è—Ü–∏—è**:

   ```bash
   go build
   ```
5. **–ó–∞–ø—É—Å–∫**:

   ```bash
   ./bittorrent <–ø—É—Ç—å-–∫-—Ç–æ—Ä—Ä–µ–Ω—Ç—É> <–ø—É—Ç—å-–¥–ª—è-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è>
   ```

---

## üïπÔ∏è –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è <a name="–ü—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"></a>

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ—Ä—Ä–µ–Ω—Ç–∞

```bash
./BitTorrent <—Ç–æ—Ä—Ä–µ–Ω—Ç-—Ñ–∞–π–ª> <–≤—ã—Ö–æ–¥–Ω–æ–π-–ø—É—Ç—å>
# ./BitTorrent archlinux-2025.06.01-x86_64.iso.torrent arch-dir
# [archlinux-2025.06.01-x86_64.iso]	[¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª----------] (78.32/100%) [3.31 MB/s]
```

---

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞ <a name="–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–æ—Ç–ª–∞–¥–∫–∞"></a>

- **–õ–æ–≥–∏**:
    –î–æ—Å—Ç—É–ø–Ω—ã –≤ —Ñ–∞–π–ª–µ `torrent.log`, –ª–µ–∂–∞—â–µ–º –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
- **–¢–µ—Å—Ç –ø–∏—Ä–æ–≤**:

  ```bash
  nc -l 6881
  ```

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ <a name="–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"></a>

- `github.com/jackpal/bencode-go`: –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ñ–∞–π–ª–æ–≤.
- `github.com/cespare/xxhash/v2`: –ë—ã—Å—Ç—Ä–æ–µ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ.\
  –£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
go get github.com/jackpal/bencode-go
go get github.com/cespare/xxhash/v2
```

---

## üîÆ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è <a name="–í–æ–∑–º–æ–∂–Ω—ã–µ-—É–ª—É—á—à–µ–Ω–∏—è"></a>

- **DHT**: –ü–æ–∏—Å–∫ –ø–∏—Ä–æ–≤ –±–µ–∑ —Ç—Ä–µ–∫–µ—Ä–æ–≤.
- **–ú–∞–≥–Ω–∏—Ç-—Å—Å—ã–ª–∫–∏**: –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ `magnet`.

---

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ <a name="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ"></a>

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî –±–∞–∑–æ–≤—ã–π BitTorrent-–∫–ª–∏–µ–Ω—Ç, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π —Ä–∞–±–æ—Ç—É —Å —Ç–æ—Ä—Ä–µ–Ω—Ç–∞–º–∏ –∏ –ø–∏—Ä–∞–º–∏.

---

## ‚úç –ê–≤—Ç–æ—Ä—ã <a name="–ê–≤—Ç–æ—Ä—ã"></a>

- @lvbealr ‚Äî –∏–¥–µ—è –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞.

---

## üá∫üá∏ ENG <a name="ENG"></a>

## üìù Table of Contents

- [About](#About)
- [How BitTorrent Works](#How-BitTorrent-Works)
- [Project Structure](#Project-Structure)
- [Requirements and Installation](#Requirements-and-Installation)
- [Example Usage](#Example-Usage)
- [Testing and Debugging](#Testing-and-Debugging)
- [Dependencies](#Dependencies)
- [Possible Improvements](#Possible-Improvements)
- [Conclusion](#Conclusion)
- [Authors](#Authors)

---

## üßê About <a name="About"></a>

The **BitTorrent** project is an implementation of a BitTorrent client written in the Go programming language. BitTorrent is a peer-to-peer (P2P) protocol that enables efficient file sharing over the internet. The core idea is to split files into small **pieces** and distribute them among network participants (peers), ensuring fast and reliable downloads even with a large number of users.

This project serves an educational purpose and highlights key aspects of a BitTorrent client:

- Reading and parsing torrent files.
- Interacting with trackers to locate peers.
- Connecting to peers and downloading files in pieces.
- Assembling and saving files from the downloaded pieces.

It is a valuable resource for developers exploring network protocols, concurrency in Go, or anyone interested in understanding how BitTorrent operates.

---

## üîÑ How BitTorrent Works <a name="How-BitTorrent-Works"></a>

BitTorrent is a decentralized protocol that allows users to exchange data directly, eliminating the need for powerful central servers. Its primary components are small data **pieces** into which files are divided. Let‚Äôs break down how it works.

### Key Stages of Client Operation

1. **Reading the Torrent File**  
   A `.torrent` file is a compact metadata file containing:  
   - Tracker address(es).  
   - SHA-1 hashes of all data pieces for integrity verification.  
   - File details (names, sizes, structure).  
   - Piece size (typically 256 KB to 4 MB).  
   The client uses the `bencode-go` library to parse the torrent file and calculates the `InfoHash`‚Äîa unique identifier for the torrent, used to communicate with trackers and peers.

2. **Tracker Request**  
   The client sends a request to the tracker (via HTTP or UDP) with:  
   - `InfoHash`‚Äîtorrent identifier.  
   - `PeerID`‚Äîunique client identifier.  
   - Listening port (e.g., 6881).  
   The tracker responds with a list of peers who have the required data pieces.  
   Example request:  
   ```
   GET /announce?info_hash=xxx&peer_id=yyy&port=6881&uploaded=0&downloaded=0&left=1000000
   ```  

   <p align="center">
      <a href="" rel="noopener">
     <img src="https://i.ibb.co/pBLQ6JNZ/Chat-GPT-Image-Jun-23-2025-05-12-55-PM.png" alt="Tracker Request"></a>
    </p>

3. **Peer Handshake**  
   The client establishes a TCP connection with peers from the list and sends a handshake message:  
   - Protocol name length (1 byte, typically 19).  
   - Protocol name (`BitTorrent protocol`).  
   - Reserved bytes (8 bytes).  
   - `InfoHash` (20 bytes).  
   - `PeerID` (20 bytes).  
   Example in hexadecimal:  
   ```
   13:BitTorrent protocol00000000<20-byte-infohash><20-byte-peerid>
   ```  
   Upon a successful handshake, the peer confirms readiness to exchange data.

4. **File Download**  
   Files in BitTorrent are not downloaded whole‚Äîthey are split into **pieces** of fixed size (e.g., 256 KB). Each piece is further divided into **blocks** (typically 16 KB), which are requested from peers. The data exchange involves:  
   - `Choke`/`Unchoke`: Peer indicates willingness to share data.  
   - `Interested`: Client specifies needed pieces.  
   - `Request`: Request for a specific block.  
   - `Piece`: Data block sent from peer to client.  
   The client requests different pieces from multiple peers simultaneously, speeding up the download.  

    <p align="center">
      <a href="" rel="noopener">
     <img src="https://i.postimg.cc/Gp0T01WH/p2p-Photoroom.png" alt="P2P"></a>
    </p>

   After receiving all blocks of a piece, the client verifies its SHA-1 hash to ensure data integrity.

5. **File Assembly and Saving**  
   Once all pieces are downloaded, the client assembles them into the original file(s) and saves them to disk. In multi-file torrents, each piece may contain parts of different files, and the client allocates the data accordingly.

### Deep Dive into Pieces

- **What is a Piece in BitTorrent?**  
  A piece is the fundamental data unit in BitTorrent. For instance, a 10 MB file split into 256 KB pieces yields 40 pieces, each with a unique hash listed in the torrent file for integrity checks.

- **Piece Size**  
  Typically ranges from 256 KB to 4 MB. Smaller pieces accelerate initial downloads but increase metadata overhead. Larger pieces reduce the number of hashes but take longer to download.

- **Blocks within Pieces**  
  Pieces are subdivided into blocks (usually 16 KB), requested individually from peers, enabling parallel downloads from multiple sources.

- **Example**  
  A 256 KB piece with 16 blocks of 16 KB each allows the client to request blocks 0‚Äì7 from one peer and 8‚Äì15 from another, optimizing speed.  

    <p align="center">
      <a href="" rel="noopener">
     <img src="https://i.ibb.co/WNJmXd8M/Editor-Mermaid-Chart-2025-06-23-144214-Photoroom.png" alt="Piece structure"></a>
    </p>

### Technical Details

- **Transport**: TCP for peers, UDP for some trackers.  
- **Hashing**: SHA-1 for piece verification.  
- **Concurrency**: The client can download 5‚Äì10 pieces simultaneously, depending on configuration.

---

## üèóÔ∏è Project Structure <a name="Project-Structure"></a>

The project is modularly organized for ease of development and maintenance. Here‚Äôs a detailed file breakdown:

- **`torrent.go`**  
  Core data structures:  
  - `TorrentFile`: Stores torrent metadata (piece list, hashes, files).  
  - `Peer`: Peer information (IP, port).  
  - `Piece`: Structure for handling pieces (index, hash, data).

- **`p2p.go`**  
  Peer interaction logic:  
  - TCP connection setup.  
  - Handshake processing.  
  - Block-by-block piece downloading using `Request` and `Piece` messages.

- **`tracker.go`**  
  Tracker communication:  
  - Supports HTTP and UDP requests.  
  - Parses peer information from responses.

- **`utils.go`**  
  Utility functions:  
  - `PeerID` generation.  
  - Piece hash verification.  
  - Download progress logging.

- **`parse.go`**  
  Torrent file parsing:  
  - `bencode` decoding.  
  - Extraction of piece lists and hashes.

- **`main.go`**  
  Entry point:  
  - Argument parsing (`.torrent` path, save directory).  
  - Coordination of modules (reading, downloading pieces, saving).

---

## ‚öôÔ∏è Requirements and Installation <a name="Requirements-and-Installation"></a>

### Requirements

- **Go**: Version 1.21+.  
- **OS**: Linux, macOS, Windows.  
- **Network**: Access to trackers and peers.

### Installation

1. **Clone the Repository**:  
   ```bash
   git clone git@github.com:lvbealr/BitTorrent.git
   cd BitTorrent
   ```

2. **Verify Go Installation**:  
   ```bash
   go version
   ```

3. **Install Dependencies**:  
   ```bash
   go mod tidy
   ```

4. **Build the Project**:  
   ```bash
   go build
   ```

5. **Run the Client**:  
   ```bash
   ./bittorrent <torrent-path> <save-path>
   ```

---

## üïπÔ∏è Example Usage <a name="Example-Usage"></a>

### Downloading a Torrent

```bash
./BitTorrent <torrent-file> <output-path>
# Example:
# ./BitTorrent archlinux-2025.06.01-x86_64.iso.torrent arch-dir
# [archlinux-2025.06.01-x86_64.iso]	[¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª¬ª----------] (78.32/100%) [3.31 MB/s]
```

---

## üõ†Ô∏è Testing and Debugging <a name="Testing-and-Debugging"></a>

- **Logs**:  
  Available in `torrent.log` in the root directory.

- **Peer Testing**:  
  ```bash
  nc -l 6881
  ```

---

## üì¶ Dependencies <a name="Dependencies"></a>

- **`github.com/jackpal/bencode-go`**: Torrent file parsing.  
- **`github.com/cespare/xxhash/v2`**: Fast hashing.  

**Installation**:  
```bash
go get github.com/jackpal/bencode-go
go get github.com/cespare/xxhash/v2
```

---

## üîÆ Possible Improvements <a name="Possible-Improvements"></a>

- **DHT**: Peer discovery without trackers.  
- **Magnet Links**: Support for `magnet` URI downloads.

---

## üèÅ Conclusion <a name="Conclusion"></a>

This project provides a foundational BitTorrent client, illustrating torrent handling and peer interactions.

---

## ‚úç Authors <a name="Authors"></a>

- **@lvbealr** ‚Äî Concept and development.

---